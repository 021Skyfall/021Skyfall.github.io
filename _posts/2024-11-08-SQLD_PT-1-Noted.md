---
title: "SQLD / 1 과목 - 데이터 모델링의 이해"
author: Jeremiah Lee
date: 2024-11-08
categories: [ SQLD ]
tags: [자격증]
pin: false
math: true
mermaid: true
image: 
  path: /assets/img/Certificates/EIP/Certificate_jelly.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
  alt: 
---
***

[대발 허브](https://daebal.tistory.com/18) 참조

학습 목적으로 직접 타이핑해서 옮김.     
문제 시 삭제.

<br>
<br>
<br>

# 1과목

## 데이터 모델링의 이해

### 데이터 모델링 이란?
  - 데이터 모델링은 '현실 세계'를 단순화하여 표현하는 기법

### 데이터 모델링 특징 및 목적

#### 특징
  - **추상화** : 현실 세계, 개념을 일정한 형식으로 '간략하게' 표현
  - **단순화** : 현실 세계를 '정해진 표기법'으로 단순하고 쉽게 표현, 핵심에 집중하고 불필요한 요소 제거
  - **명확화** : 불분명함을 제거하고, 정확하게 현상을 기술

#### 목적
  - 단순히 DB, 시스템 만을 구축하기 위한 것이 아닌 업무 설명, 분석, 형상화 목적도 있음
  - 분석된 모델을 실제 DB로 생성하여 개발 및 데이터 관리에도 사용

<br>
<br>

### 데이터 모델링 유의점 및 3가지 관점과 중요 3요소

#### 유의점
  - **중복(Duplication)** : 같은 데이터가 엔티티에 중복 저장되면 안됨
  - **비유연성(Inflexibility)** : 애플리케이션의 '사소한 변경'에도 데이터 모델이 수시로 변경되면 안됨 / 데이터 모델과 프로세스 분리해서 유연성 향상
  - **비일관성(Inconsistency)** : 중복이 없는 경우에도 비일관성 발생 가능성 있음 / 데이터 간 연관 관계 명확하게 정의

#### 관점
  - **데이터 관점(What, Data)** : 어떤 데이터들이 업무와 얽혀있는지
  - **프로세스 관점(How, Process)** : 업무가 실제로 처리하고 있는 일이 무엇인지
  - **데이터와 프로세스의 상관 관점(Data vs Process, Interaction)** : 프로세스 흐름에 따라 데이터가 어떤 영향을 받는지

#### 중요 요소
  - **Things** : 대상 (Entity)
  - **Attribute** : 속성
  - **Relationships** : 관계

<br>
<br>

### 모델링의 3가지 단계

#### 1. **개념적** 데이터 모델링
  - **'전사적'으로 수행**, 업무 중심적이고 포괄적인 수준의 모델링 (**추상화 레벨 가장 높음**)

#### 2. **논리적** 데이터 모델링
  - Key, 속성, 관계 들을 표현하는 단계 -> 정규화 활동이 이루어지는 단계
  - 논리 데이터 모델을 대상으로 정규화 하는 것

#### 3. **물리적** 데이터 모델링
  - 실제 DB를 구현할 수 있도록 **성능, 가용성 등 물리적 요소를 고려**하는 단계

<br>
<br>

### 데이터 스키마 단계에 따른 독립성

#### 스키마란?
  - 테이블이 어떤 구성으로 되어있는 지, 어떤 정보를 가지고 있는 지에 대한 기본적인 테이블의 구조를 정의한 것

#### 데이터 스키마의 구조
  - USER
    - **외부** 스키마 : **각 사용자**가 보는 스키마 정의 및 표현
    - **개념** 스키마 : **모든 사용자**가 보는 데이터 정의 및 표현 & 관계를 정의하는 단계
    - **내부** 스키마 : 물리적인 저장 구조를 나타내는 단계 -> **저장 구조, 칼럼, 인덱스 정의**
  - DB
    - **논리적 독립성** : 개념 스키마가 변경 되어도 외부 스키마는 영향 없음 / 외부 --- 개념
    - **물리적 독립성** : 내부 스키마가 변경되어도 개념/외부 스키마는 영향 없음 / 외부, 개념 --- 내부

<br>
<br>

### ERD 작성 순서
1. 엔티티 도출
2. 엔티티 배치
3. 엔티티 관계 설정
4. 관계명 기입
5. 관계 참여도 기입
6. 관계 필수/선택 여부 기입

#### IE/Crow's Foot (까마귀발) 표기법

![](/assets/img/Certificates/SQLD/ie_crowfoot.png)
출처 : https://ppomelo.tistory.com/51

![](/assets/img/Certificates/SQLD/crowfoot_ex.png)
출처 : https://ppomelo.tistory.com/51

- Entity는 네부분의 모서리가 둥근 형태인 Soft-Box로 표현
- Entity 이름은 Box 내부 상단에 표시
- Attribute 중 필수로 값을 입력하며 식별자인 속성은 # (Mandatory)를 표시
- Attribute 중 필수로 값을 입력해야 하는 속성은 * (Mandatory)를 표시
- Attribute 중 선택적인 입력을 해야 하는 속성은 o (Optional)를 표시

<br>
<br>

### 엔티티란? 엔티티의 특징
  - 업무에서 쓰이는 데이터들을 용도 별로 분류한 데이터의 그룹 = 엔티티

#### 엔티티의 특징
  - **업무에서 쓰이는 정보**여야 함
  - **식별자**가 있어야 함
  - **2개 이상의 인스턴스**를 가져야 함
  - **반드시 속성**을 가져야 함 -> 이 때 **하나의 인스턴스는 2개 이상의 속성**을 가짐
    - 즉, **하나의 엔티티는 2개 이상의 속성**을 가짐
  - 다른 **엔티티와 1개 이상의 관계**를 가짐

<br>
<br>

### 엔티티 분류 방법과 그에 따른 종류

#### **유형, 무형에 따른 분류** (개사유)
  - **개념** 엔티티 : 모델링 대상이 **형태 없음** / ex) 부서, 학과
  - **사건** 엔티티 : 모델링 대상이 **행위로 인해 발생**하는 것 / ex) 주문
  - **유형** 엔티티 : 모델링 대상이 **물리적인 형태가 존재** / ex) 상품, 회원

#### **발생 시점에 따른 분류** (기행중)
  - **기본** 엔티티 : 모델링 대상이 업무에 대해 **원래 존재하는 요소** -> 독립적, 자식 엔티티를 가실 수 있음 / ex) 상품, 회원, 부서
  - **행위** 엔티티 : **2개 이상의 엔티티**로 부터 파생 / ex) 주문 내역
  - **중심** 엔티티 : 모델링 대상의 **업무 과정 중 하나, 기본 엔티티로 부터 파생, 행위 엔티티 생성** / ex) 주문, 매출, 계약

<br>
<br>

### 엔티티 명명 주의점
  - 업무에서 실제 쓰이는 용어 사용
  - **한글 약어 사용 X**, 영어 **대문자**로 표시
  - **단수 명사로 표현**, 띄어쓰기 X
  - 의미상 중복 X (주문, 결제 엔티티는 중복 가능)
  - 명확하게 표현

<br>
<br>

### 속성이란, 속성의 특징
  - 엔티티의 특징을 나타내는 최소 데이터 단위 = 속성 (원자)

#### 속성의 특징
  - 더 이상 쪼개지지 않는 레벨
  - 업무에서 필요로 하는 항목
  - 엔티티를 설명, 인스턴스를 설명
  - 하나의 속성은 하나의 속성 값만 가짐 -> 여러 개 가지면 1차 정규화
  - 일반 속성은 정해진 주 식별자에 함수적 종속성을 가져야함
    - 완전 함수적 종속이 아닌 부분 종속이면 2차 정규화
      - ex) PK가 2개의 속성으로 이루어져 있는데, {속성1, 속성2}에서 속성 2에만 종속성을 가지면 2차 정규화로 엔티티 추가 생성해서 각 엔티티 마다 완전 함수적 종속 충족 시켜줌

<br>
<br>

### 속성의 특성에 따른 분류

#### 일반적인 특성에 따른 분류
  - **기본** 속성 : 업무 프로세스(기본 틀) 분석 후 **바로 정의 가능한 속성**
  - **설계** 속성 : 업무엔 없으나, 모델링 후 고유함을 보전하기 위해 필요해져서 만들어짐 / ex) 학번, 사번 등
    - **인스턴스에 유니크함을 부여하는 속성(PK의 토대)**
  - **파생** 속성 : 데이터를 조회할 때 빠른 성능을 낼 수 있도록 원래 속성 값을 계싼하여 저장할 수 있도록 하는 속성 / ex) 평균, 재고 등
    - 파생 = **성능, 편의를 위해 새로 만든 엔티티 속성**
    - **데이터 정합성 고려 & 가급적 적게 정의**

#### 구성 방식 (각 속성 및 엔티티와의 관계)에 따른 분류
  - PK 속성 : 인스턴스의 유니크함을 부여하는 속성, 일반 속성들의 종속성을 가진 키
    - 기본키, 주 식별자 키 : # 으로 표현
  - FK 속성 : 다른 엔티티에서 가져온 속성(외래키), 다른 엔티티와의 관계를 맺게 해줌
    - 기본키에 있는 속성이 FK가 될 수 있음 / ex) #사원번호(FK)
  - 일반 속성 : PK, FK를 제외한 나머지 속성

#### 속성의 분해 가능 여부에 따른 분류
  - **단일** 속성 : 속성이 하나의 의미로 구성
  - **복합** 속성 : 여러 개의 의미로 구성 / ex) 주소 = 시+구+동
  - **다중값** 속성: 속성이 여러 값을 가짐 -> 1차 정규화 or 별도 엔티티로 생성

<br>

### 속성이 만들어낸 데이터 모델의 개념
  - 도메인 : 속성이 가질 수 있는 속성 값의 범위
  - **용어 사전** : 속성의 이름을 정확, 직관적으로 부여하기 위한 용어 사전
  - **시스템 카탈로그** 
    - 시스템 자체에 관련 있는 데이터를 가진 DB
    - 시스템 테이블로 구성 & SQL로 조회 가능
    - 여기 저장된 데이터 = 메타 데이터, SELECT 만 가능

<br>
<br>

### 관계란? 관계의 종류
  - 엔티티와 엔티티 사이에 속성 끼리의 연결에 의해 만들어지는 상관 관계

#### 종류
  - 존재 관계 : 모델링 된 엔티티들이 존재로서 관계를 가짐
  - 행위 관계 : 모델링 된 엔티티들이 행위에 의해 관계를 가짐

#### UML의 클래스 다이어그램에 의해 나뉘는 종류
  - **연관** 관계
    - 필수적 관계(존재적 관계, 식별자 관계) - 항상 서로 이용 (실선)
    - **멤버 변수로 선언**
  - **의존** 관계
    - 선택적 관계(비식별자 관계) - 상대 클래스 행위에 따라 이용 (점선)
    - **행위 코드 오퍼레이션에서 파라미터로 사용**

#### 관계 표기 방법(ERD)에 따른 특성 분류
  - 관계명 : 관계 이름 = 시작 엔티티 - 능동적 / 끝 엔티티 - 수동적 + **'동사'** 사용
  - 관계 차수 : 각 엔티티 끼리의 관계에 참여하는 '속성의 수' 1:1, 1:M, M:N 형식으로 구분
  - 관계 선택 사양 : **필수적 관계**(엔티티끼리 항상 관계), **선택적 관계**(행위에 의해 관계 여부가 성립)
    - ex) 한 수업 엔티티에 참여 엔티티, 과제 엔티티가 있으면 참여는 수업이 있을 때 마다 항상 관계가 성립되어서 조회가 되지만, 과제는 과제가 있는 날에만 관계를 맺고 조회가 되기 때문에 이러한 것을 구분

<br>
<br>

### 관계 체크 사항 (두 엔티티 사이 관계 정의 시 유의할 사항)
  - 두 엔티티 사이에 **관심있는 연관 규칙**이 존재하는가
  - 두 엔티티 사이에 **정보의 조합**이 발생하는 가
  - 업무 기술 시, 장표의 관계 연결을 가능하게 하는 **동사**가 있는 가
  - 업무 기술 시, 장표의 관계 연결을 가능하게 하는 **규칙이 서술**되어 있는 가

<br>
<br>

### 식별자란? 주 식별자의 특성
  - 각각의 인스턴스를 구분 가능하게 만들어주는 대표 속성을 뜻함

#### 주 식별자란? 주 식별자의 특성을 #으로 표현
  - 주 식별자는 PK에 해당 하는 속성 -> PK는 한 테이블에 여러 개 존재할 수 없음
  - **유일성** : 해당 속성이 인스턴스를 유일하게 식별할 수 있는 성질을 가졌는 지
  - **최소성** : 최소한의 속성들로만 유일성을 보장하게 하는 지
  - **불변성** : 속성 값이 변하지 않아야함
  - **존재성** : 속성 값은 NULL이 될 수 없음
  - 유일성과 최소성을 만족하는 속성은 **보조키**

<br>
<br>

### 식별자의 특성과 특정 여부에 따른 분류

#### 대표성 여부
  - 주 식별자(PK) - #으로 표현
    - **유일성, 최소성, 불변성, 존재성**을 모두 만족하는 식별자
    - PK는 여러 속성이 존재할 수 있으나, 여러 속성이 존재할 경우 나머지 일반 속성들이 해당 PK 속성들에 대해 함수적 종속성을 띄어야함
    - 그렇지 않으면 2차 정규화하여 부분 종속에 해당하는 속성들만 따로 추가 엔티티를 생성해야함
      - **주 식별자 도출 기준**
        - 해당 업무에서 자주 이용되는 속성
        - 명칭, 내역 등의 이름은 피함
        - 속성 수를 최대한 적게 구성
        - 자주 변하지 않는 값
  - **보조 식별자**
    - 인스턴스 **식별은 가능하나**, 엔티티를 **대표**하는 식별자는 아님
    - 즉, 다른 엔티티와의 참조 관계로 연결되지 않음
    - ex) 회원 엔티티에 #회원번호, *회원명, *아이디 가 있는 경우 아이디는 다른 인스턴스와 중복될 수 없기 때문에 해당 엔티티에서 인스턴스를 구분 짓게 할 수 있는 식별자 이지만 이게 엔티티를 대표하진 못함

#### 스스로 생성 되었는가에 대한 여부
  - **내부** 식별자 : 다른 엔티티 참조 없이 해당 엔티티 내부에서 스스로 생성된 식별자
  - **외부** 식별자 : 다른 엔티티에서 온 식별자 - 다른 엔티티와 연결고리 역할
    - 만약 부모 엔티티의 FK를 받아서 이를 주 식별자로 사용하게 되면 해당 자식 엔티티의 PK는 SQL 조인에서 반드시 사용되고 WHERE 절에서 사용 가능성이 높음

#### 단일 속성인지에 대한 여부 (주 식별자 구성이 여러 속성인가)
















