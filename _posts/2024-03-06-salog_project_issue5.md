---
title: "프로젝트:샐로그 / 이슈 5 - Oauth2 구현 과정 - 1. 개념"
author: Jeremiah Lee
date: 2024-03-06
categories: [ 프로젝트, 샐로그, 문제해결 ]
tags: [프로젝트, 샐로그, 문제해결, Oauth2 ]
pin: false
math: true
mermaid: true
image: 
  path: /assets/img/Project_jelly.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
  alt: 
---
***

사실 Oauth2 를 구현한 것은 2월 중이었다.

당시에 프로젝트를 마무리하느라 블로깅을 하지 못해 지금와서 정리한다.

그리고 당초 생각한 기능을 마무리했다는 것이지 프로젝트를 "완성"한 것은 아니다.

테스트 케이스 작성이 미숙해 아직 테스트 케이스를 작성하지 못 했고, 그에 따라 API 문서화도 해보지 못했다.

또한 리펙터링이 필요한 부분이 많이 남아있고, 성능 테스트도 아직 남아있다.

그래서 개선 목표를 두고 있긴한데, 일단은 이전에 구현했던 내용들을 정리하고자 한다.

<br>

우선 Oauth2 구현이 먼저였기 때문에 Oauth2 구현 과정과 문제 해결 과정을 작성하고
그 다음으로 HTTPS 프로토콜 수동 적용에 관해 작성할 예정이다.

<br>

그리고 블로깅 방식에 대해 조금 생각이 변했다.

이전 배포에 관련된 내용, 혹은 이전 블로그에서 기술했던 내용들을 보면 한 페이지에 꽤 길게 이어서 작성했었다.

그런데, 해당 방식으로 작성하게 되면 나 뿐만 아니라 다른 이들도 읽기 힘들고 어려울 것이라는 생각이 들었다.

그래서 이 포스트를 기점으로 내용이 길어진다 싶으면 분할해서 작성할 예정이다.

그 편이 내가 작성하기도 편하고, 읽기도 편하리라 생각한다.

<br>
<br>
<br>

### ***1.개요***

소셜 로그인 기능에 대한 내용이 내가 생각하던 것 보다 어렵고 복잡해서 거의 프로젝트 막바지에 구현했다.

우선 기술을 사용하기 위해서는 그 기술이 무엇인지에 대해 알아야 한다.

개념에 대해 알아내기 위해 시간이 꽤 걸렸고, 현재 서비스에 구글 로그인만 구현해놓았다.

애초에 개념을 이제 알게 되었으니 카카오, 네이버 로그인도 마찬가지로 구현할 수 있으리라 생각해 조금 더 미뤄두었다.

<br>

처음에는 스프링 시큐리티 설정 클래스에서 HttpSecurity 클래스의 메서드 중 Oauth2Login 메서드만 사용하면
자동적으로 Oauth2가 적용되는 줄 알았다.

결과적으로는 틀린 얘기는 아니지만, 구글 서버에 요청하여 로그인한 회원의 정보를 받아온다던가 해당 정보를 바탕으로
JWT를 생성해주어야 한다던가, 이런 내용을 몰랐기 때문에 많이 헤맸다.

고작 메서드 하나 사용한다고 내가 생각한대로 마법처럼 이루어진다는 것 자체가 지금 생각하니 어이가 없다.

<br>

앞서 말했듯이 스프링 시큐리티에서 설정을 하면 Oauth2 프로토콜로 로그인을 할 수 있게 된다.

그러나 어떤 플랫폼을 사용할 것인지, 어떻게 유저의 정보를 그 플랫폼에서 받아올 것인지, 그리고 자체적으로 구현한 JWT와
어떻게 연결을 시킬 것인지에 대한 부분들은 순전히 개발자의 몫이다.

그래서 이번 포스트는 어떤 흐름을 거쳐 소셜 로그인을 구현했는지에 대해 집중적으로 다룰 것이다.

다만, 분할 작성법으로 접근한다고 했으니 이번 포스트는 개념에 대해, 다음 포스트는 적용과 문제해결에 대해 작성할 것이다.

개념에 대한 상당 부분은 이전 블로그의 내용이 정리가 잘 되어 있기 때문에 해당 내용을 갈무리해서 작성할 것이고,
그 부분은 JWT와 마찬가지로 따로 이사시키지 않을 예정이다.

<br>
<br>
<br>
